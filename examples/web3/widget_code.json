[
    "from IPython.display import display",
    "from ipywidgets import interactive_output, interact_manual",
    "from ipywidgets import IntSlider, VBox, Label, HBox, BoundedFloatText, FloatText, Layout, Image, Text, Button",
    "def make_slider(description: str, init_value=0, min_value=0, max_value=100, step=1):",
    "    return VBox([Label(description), IntSlider(init_value, min_value, max_value, step)])",
    "def make_float_input(description: str, init_value=0.0, bounded=False, min_value=0.0, max_value=10.0, step=0.1):",
    "    label = Label(description)",
    "    input_layout = Layout(width='80%')",
    "    if bounded:",
    "        input = BoundedFloatText(init_value,",
    "                                 min=min_value,",
    "                                 max=max_value,",
    "                                 step=step",
    "                                )",
    "    else:",
    "        input = FloatText(init_value, layout=input_layout)",
    "    return VBox([label, input], layout=Layout(width='20%'))",
    "def update_animation(det_dist, stop_speed, go_speed, max_accel, k_s, k_ds, k_n, k_theta):",
    "    animation.children[0].value = f'{det_dist}_{stop_speed}_{go_speed}_{max_accel}_{k_s}_{k_ds}_{k_n}_{k_theta}'",
    "def submit_callback(b):",
    "    with open('./temp.txt', 'w') as f:",
    "        f.write(f'{param.children[0].children[-1].value}\\n')",
    "    b.description = f'{submit.children[0].children[-1].value} submit a controller'",
    "with open('./py_an.jpg', 'rb') as f:",
    "      image = f.read()",
    "ctrl_gains = HBox([make_float_input('k_s'),",
    "                   make_float_input('k_ds'),",
    "                   make_float_input('k_n'),",
    "                   make_float_input('k_theta')",
    "                  ], layout=Layout(width='85%'))",
    "param = VBox([make_slider('detection distance'),",
    "              make_slider('stop speed'),",
    "              make_slider('go speed'),",
    "              make_slider('max acceleration'),",
    "              ctrl_gains], layout=Layout(width='40%'))",
    "submit = VBox([HBox([Label('Name:'), Text(layout=Layout(width='75%'))], layout=Layout(margin='5px')),",
    "               Button(description='Submit',",
    "                      icon='check',",
    "                      button_style='success',",
    "                      layout=Layout(width='75%', height='30px')",
    "                     )], layout=Layout(margin='10px', display='flex', align_items='center'))",
    "animation = VBox([Label(), Image(value=image, format='jpg', width=300, height=300)])",
    "panel = HBox([param, VBox([animation, submit])])",
    "ctrls_dict = {'det_dist': param.children[0].children[-1],",
    "              'stop_speed': param.children[1].children[-1],",
    "              'go_speed': param.children[2].children[-1],",
    "              'max_accel': param.children[3].children[-1],",
    "              'k_s': ctrl_gains.children[0].children[-1],",
    "              'k_ds': ctrl_gains.children[1].children[-1],",
    "              'k_n': ctrl_gains.children[2].children[-1],",
    "              'k_theta': ctrl_gains.children[3].children[-1]",
    "             }",
    "interactive_output(update_animation, ctrls_dict)",
    "submit.children[-1].on_click(submit_callback)",
    "display(panel)"
]
